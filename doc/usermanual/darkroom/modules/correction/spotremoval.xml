<!DOCTYPE sect3 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
               "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
		<!ENTITY % darktable_dtd SYSTEM "../../../dtd/darktable.dtd">
		%darktable_dtd;
		]>
<sect3 status="final" id="spot_removal">

  <title>Spot removal</title>

  <indexterm>
    <primary>modules</primary>
    <secondary>spot removal</secondary>
  </indexterm>

  <indexterm>
    <primary>spot removal</primary>
  </indexterm>

  <indexterm>
    <primary>cloning</primary>
  </indexterm>

  <sect4>

    <title>Overview</title>

    <informaltable frame="none">
      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colwidth="6*"/>
        <colspec colwidth="4*"/>
        <tbody>
          <row>
            <entry>
              Spot removal allows you to correct an area in your image by using another area as
              model.
            </entry>
            <entry>
              <graphic fileref="darkroom/modules/images/spotremoval.png" scalefit="1" width="80%" align="center" />
            </entry>
          </row>
        </tbody>
      </tgroup>
    </informaltable>

  </sect4>

  <sect4>

    <title>Usage</title>

    <para>
      This module uses some of the shapes that are offered in drawn masks, namely circles,
      ellipses and path shapes. The user interface and the controls are the same as in drawn
      mask and explained in more detail in <xref linkend="drawn_mask"/>.
    </para>

    <para>
      Select the desired shape by clicking the corresponding icon, then click on the canvas to
      choose the area to be healed, i.e. the target area. A cross is displayed where the source
      area will be positioned.
    </para>

    <para>
      The source positioning has two modes: absolute or relative. To set the absolute mode,
      while creating a shape, <emphasis>Shift+Ctrl+click</emphasis> on the desired position.
      From now on, all new shapes will have the source created at that position. To set the
      relative mode, still while creating a shape, <emphasis>Shift+click</emphasis> on the
      desired position. The current shape will have the source created at that position and the
      subsequent ones will have the source created at the same relative position.
    </para>

    <para>
      After creation source area and target area can be shifted independently until the result
      matches your expectations. An arrow helps to tell source from target area.
    </para>

    <para>
      Use the shape specific controls to adjust its size, its border width, and other
      attributes.
    </para>

    <para>
      Right-click on a shape to delete it.
    </para>

    <para>
      Collapse the module to complete the changes.
    </para>

  </sect4>

  <sect4>

    <title>Examples</title>

    <para>
      <informaltable frame="none">
        <tgroup cols="2" colsep="0" rowsep="0">
          <colspec colwidth="4*"/>
          <colspec colwidth="6*"/>
          <tbody>
            <row>
              <entry>
                <graphic fileref="darkroom/modules/images/spotremoval_ex1_1.png" scalefit="1" width="90%" align="center" />
              </entry>
              <entry>
                Let's use this portrait as example; we want to remove some dirt and unwanted
                catchlight from camera popup strobe.
              </entry>
            </row>
            <row>
              <entry>
                <graphic fileref="darkroom/modules/images/spotremoval_ex1_2.png" scalefit="1" width="90%" align="center" />
              </entry>
              <entry>
                I have marked all the spots that I want to remove from the image with circle
                shapes and appropriately selected source areas.
              </entry>
            </row>
            <row>
              <entry>
                <graphic fileref="darkroom/modules/images/spotremoval_ex1_3.png" scalefit="1" width="90%" align="center" />
              </entry>
              <entry>
                And here is the result image of the spotremoval.
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </para>

  </sect4>

</sect3>
